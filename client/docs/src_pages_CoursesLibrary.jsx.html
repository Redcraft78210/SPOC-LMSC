<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/pages/CoursesLibrary.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/pages/CoursesLibrary.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Composant de bibliothèque de cours affichant les cours et lives disponibles
 * avec filtrage, recherche et fonctionnalités de modération.
 */

import { useState, useEffect, useRef } from 'react';
import PropTypes from 'prop-types';
import { Toaster, toast } from 'react-hot-toast';
import { FileText, SquarePlay, Radio, ShieldEllipsis, ShieldBan } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import { getAllCourses, disapproveCourse, unblockCourse, deleteCourse } from '../API/CourseCaller';
import { getAllLives, endLive, disapproveLive, blockLive, unblockLive, deleteLive } from '../API/LiveCaller';
import CoursesLibraryTutorial from '../tutorials/CoursesLibraryTutorial';

/**
 * Composant principal pour afficher la bibliothèque de cours et lives.
 * 
 * @param {Object} props - Les propriétés du composant
 * @param {string} props.authToken - Token d'authentification de l'utilisateur
 * @param {string} props.userRole - Rôle de l'utilisateur (Administrateur, Professeur, Etudiant)
 * @returns {JSX.Element} Composant de bibliothèque de cours rendu
 */
const Courses = ({ authToken, userRole }) => {
  const [selectedProfessor, setSelectedProfessor] = useState('Tous');
  const [selectedSubject, setSelectedSubject] = useState('Tous');
  const [searchQuery, setSearchQuery] = useState('');
  const [sortBy, setSortBy] = useState('date_recent');
  const [selectedType, setSelectedType] = useState('Tous');
  const [content, setContent] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);


  /**
   * Récupère les données des cours et lives depuis l'API.
   * 
   * @async
   * @function fetchData
   * @throws {Error} Lance une erreur en cas d'échec de récupération des données
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const fetchData = async () => {
    try {
      setLoading(true);
      const [coursesResponse, livesResponse] = await Promise.all([
        getAllCourses(),
        getAllLives()
      ]);
      if (coursesResponse.status !== 200) {
        throw new Error('Failed to fetch courses: ' + coursesResponse.message);
      }
      if (livesResponse.status !== 200) {
        throw new Error('Failed to fetch lives: ' + livesResponse.message);
      }
      const transformData = (data, type) => {
        if (!data || typeof data !== 'object') {
          console.error(`Invalid data passed to transformData:`, data);
          return [];
        }
        const result = [];
        for (const [professor, subjects] of Object.entries(data)) {
          for (const [subject, topics] of Object.entries(subjects)) {
            for (const [topic, details] of Object.entries(topics)) {
              result.push({
                ...details,
                professor,
                subject,
                topic,
                type,
              });
            }
          }
        }
        return result;
      };
      setContent([
        ...transformData(coursesResponse.data, 'cours'),
        ...transformData(livesResponse.data, 'live'),
      ]);
      setError(null);
    } catch (err) {
      console.error('Erreur:', err);
      setError('Erreur de chargement des données');
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchData();
  }, [authToken]);


  /**
   * Filtre et trie le contenu en fonction des critères sélectionnés.
   * 
   * @type {Array&lt;Object>}
   */
  const filteredContent = content
    .filter(item => {
      const matchesType =
        selectedType === 'Tous' || item.type === selectedType.toLowerCase();
      const matchesProfessor =
        selectedProfessor === 'Tous' || item.professor === selectedProfessor;
      const matchesSubject =
        selectedSubject === 'Tous' || item.subject === selectedSubject;
      const matchesSearch =
        item.titre.toLowerCase().includes(searchQuery.toLowerCase()) ||
        item.description.toLowerCase().includes(searchQuery.toLowerCase());

      return matchesType &amp;&amp; matchesProfessor &amp;&amp; matchesSubject &amp;&amp; matchesSearch;
    })
    .sort((a, b) => {
      const getDate = item => {
        if (item.type === 'cours') {
          return item.date_creation;
        } else if (item.type === 'live' &amp;&amp; item.live) {
          return item.live.date_debut;
        }
        return null;
      };

      return sortBy === 'date_recent'
        ? new Date(getDate(b)) - new Date(getDate(a))
        : new Date(getDate(a)) - new Date(getDate(b));
    });

  console.log(content);


  const professors = [...new Set(content.map(item => item.professor))];
  const subjects = [...new Set(content.map(item => item.subject))];

  if (loading) {
    return (
      &lt;div className="flex justify-center items-center h-64">
        &lt;div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500">&lt;/div>
      &lt;/div>
    );
  }

  if (error) {
    return (
      &lt;div
        className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
        role="alert"
      >
        &lt;strong className="font-bold">Erreur ! &lt;/strong>
        &lt;span className="block sm:inline">{error}&lt;/span>
      &lt;/div>
    );
  }

  return (
    &lt;div className="min-h-screen pb-10">
      &lt;Toaster position="top-center" />
      {/* Header */}
      &lt;header>
        &lt;div className="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
          &lt;h1 className="text-3xl font-bold text-gray-800">
            Bibliothèque de Cours
          &lt;/h1>
        &lt;/div>
      &lt;/header>

      {/* Add the tutorial component */}
      &lt;CoursesLibraryTutorial />

      &lt;div className="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
        {/* Barre de recherche et filtres */}
        &lt;div className="mb-8 p-6 bg-white rounded-lg shadow-sm">
          &lt;div className="mb-4">
            &lt;label className="sr-only" htmlFor="search">
              Rechercher
            &lt;/label>
            &lt;div className="relative">
              {/* Make sure the id matches the tutorial target */}
              &lt;input
                id="search"
                type="text"
                placeholder="Rechercher des cours..."
                className="w-full p-3 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
                value={searchQuery}
                onChange={e => setSearchQuery(e.target.value)}
              />
            &lt;/div>
          &lt;/div>

          &lt;div className="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-4">
            {/* Type de contenu */}
            &lt;div className="filter-type">
              &lt;label className="block text-sm font-medium text-gray-700 mb-1">
                Type de contenu
              &lt;/label>
              &lt;FilterDropdown
                items={['Tous', 'Cours', 'Live']}
                selected={selectedType}
                setSelected={setSelectedType}
              />
            &lt;/div>
            {/* Professeur */}
            &lt;div className="filter-professor">
              &lt;label className="block text-sm font-medium text-gray-700 mb-1">
                Professeur
              &lt;/label>
              &lt;FilterDropdown
                items={['Tous', ...professors]}
                selected={selectedProfessor}
                setSelected={setSelectedProfessor}
              />
            &lt;/div>
            {/* Matière */}
            &lt;div className="filter-subject">
              &lt;label className="block text-sm font-medium text-gray-700 mb-1">
                Matière
              &lt;/label>
              &lt;FilterDropdown
                items={['Tous', ...subjects]}
                selected={selectedSubject}
                setSelected={setSelectedSubject}
              />
            &lt;/div>
            {/* Trier par */}
            &lt;div>
              &lt;label className="block text-sm font-medium text-gray-700 mb-1">
                Trier par
              &lt;/label>
              &lt;select
                className="p-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"
                value={sortBy}
                onChange={e => setSortBy(e.target.value)}
              >
                &lt;option value="date_recent">Plus récent&lt;/option>
                &lt;option value="date_ancien">Plus ancien&lt;/option>
              &lt;/select>
            &lt;/div>
          &lt;/div>
        &lt;/div>

        {/* Résultats */}
        {filteredContent.length === 0 ? (
          &lt;div className="text-center py-12">
            &lt;p className="text-gray-500 text-lg">
              Aucun contenu trouvé avec ces critères.
            &lt;/p>
          &lt;/div>
        ) : (
          &lt;div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredContent.map(item => (
              &lt;ContentCard
                key={item.id}
                item={item}
                userRole={userRole}
                onActionDone={fetchData}
                className="course-card"
              />
            ))}
          &lt;/div>
        )}
      &lt;/div>
    &lt;/div>
  );
};

/**
 * Composant d'affichage d'une carte de contenu (cours ou live).
 * Gère l'affichage des détails et les actions de modération.
 * 
 * @param {Object} props - Les propriétés du composant
 * @param {Object} props.item - Objet contenant les détails du cours ou live
 * @param {string} props.item.id - Identifiant unique du contenu
 * @param {string} props.item.titre - Titre du contenu
 * @param {string} props.item.date_creation - Date de création du contenu
 * @param {string} props.item.status - Statut du contenu
 * @param {string} props.item.block_reason - Raison du blocage (si bloqué)
 * @param {('cours'|'live')} props.item.type - Type de contenu
 * @param {Object} [props.item.live] - Détails du live (uniquement pour les lives)
 * @param {string} props.item.description - Description du contenu
 * @param {Object} [props.item.video] - Détails de la vidéo (uniquement pour les cours)
 * @param {number} props.item.nombre_de_documents - Nombre de documents associés
 * @param {string} props.item.professor - Nom du professeur
 * @param {string} props.item.subject - Matière du cours
 * @param {string} props.userRole - Rôle de l'utilisateur (Administrateur, Professeur, Etudiant)
 * @param {Function} props.onActionDone - Fonction à appeler après une action réussie
 * @returns {JSX.Element} Carte de contenu rendue
 */
const ContentCard = ({ item, userRole, onActionDone }) => {
  const navigate = useNavigate();
  const [isHovered, setIsHovered] = useState(false);
  const [showModMenu, setShowModMenu] = useState(false);
  const [showDisapproveModal, setShowDisapproveModal] = useState(false);
  const [showStopModal, setShowStopModal] = useState(false);
  const [justification, setJustification] = useState('');
  const hoverTimeout = useRef(null);
  const menuRef = useRef(null);


  const [showBlockedTooltip, setShowBlockedTooltip] = useState(false);
  const [tooltipPos, setTooltipPos] = useState({ x: 0, y: 0 });
  const [modButtonHovered, setModButtonHovered] = useState(false);


  /**
   * Gère le déplacement de la souris sur un élément bloqué pour afficher l'infobulle.
   * 
   * @param {React.MouseEvent} e - Événement de mouvement de souris
   */
  const handleBlockedMouseMove = (e) => {
    setTooltipPos({ x: e.clientX, y: e.clientY });
    if (!showBlockedTooltip) setShowBlockedTooltip(true);
  };

  /**
   * Gère la sortie de la souris d'un élément bloqué pour masquer l'infobulle.
   */
  const handleBlockedMouseLeave = () => {
    setShowBlockedTooltip(false);
  };

  /**
   * Gère l'entrée de la souris sur la carte pour afficher des détails supplémentaires.
   */
  const handleMouseEnter = () => {
    hoverTimeout.current = setTimeout(() => {
      setIsHovered(true);
    }, 300);
  };

  /**
   * Gère la sortie de la souris de la carte.
   */
  const handleMouseLeave = () => {
    clearTimeout(hoverTimeout.current);
    setIsHovered(false);
  };

  /**
   * Gère le clic sur la carte pour naviguer vers la page de détail.
   */
  const handleClick = () => {
    if (item.type === 'live') {
      navigate('/liveViewer?liveid=' + item.id);
    } else {
      navigate('/course-reader?courseId=' + item.id);
    }
  };

  /**
   * Gère l'ouverture/fermeture du menu de modération.
   * 
   * @param {React.MouseEvent} e - Événement de clic
   */
  const handleMenuToggle = (e) => {
    e.stopPropagation();
    setShowModMenu((prev) => !prev);
  };

  /**
   * Gère les actions de modération (désapprouver, arrêter, débloquer, supprimer).
   * 
   * @param {string} action - Action à effectuer
   * @param {React.MouseEvent} e - Événement de clic
   */
  const handleModAction = (action, e) => {
    e.stopPropagation();
    setShowModMenu(false);
    if (action === 'disapprove') {
      setShowDisapproveModal(true);
    } else if (action === 'stop') {
      setShowStopModal(true);
    } else if (action === 'unblock') {
      item.type === 'cours' &amp;&amp; handleUnblockCourse();
      item.type === 'live' &amp;&amp; handleUnblockLive();
    } else if (action === 'delete') {
      item.type === 'cours' &amp;&amp; handleDeleteCourse();
      item.type === 'live' &amp;&amp; handleDeleteLive();
    }
  };

  useEffect(() => {
    const handleClickOutside = (event) => {
      if (menuRef.current &amp;&amp; !menuRef.current.contains(event.target)) {
        setShowModMenu(false);
      }
    };
    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
      if (hoverTimeout.current) {
        clearTimeout(hoverTimeout.current);
      }
    };
  }, []);

  /**
   * Formate une durée en secondes au format HH:MM:SS.
   * 
   * @param {number} seconds - Durée en secondes
   * @returns {string} Durée formatée
   */
  const formatDuration = seconds => {
    if (isNaN(seconds) || seconds &lt; 0) {
      return 'NaN';
    }
    const hrs = Math.floor(seconds / 3600);
    const mins = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    return [
      hrs > 0 ? String(hrs).padStart(2, '0') : '00',
      String(mins).padStart(2, '0'),
      String(secs).padStart(2, '0'),
    ].join(':');
  };

  /**
   * Désapprouve un cours avec justification.
   * 
   * @async
   * @throws {Error} Lance une erreur si la désapprobation échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleCourseDisapproval = async () => {
    if (!justification.trim() || justification.length &lt; 50) {
      toast.error('Veuillez fournir une justification d\'au moins 50 caractères pour la désapprobation.');
      return;
    }
    try {
      const response = await disapproveCourse({
        courseId: item.id,
        justification,
      });

      if (response.status === 200) {
        toast.success('Cours désapprouvé avec succès');
        console.log('Désapprobation réussie:', response.data);
        setShowDisapproveModal(false);
        setJustification('');
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors de la désapprobation du cours');
      }
    } catch (error) {
      console.error('Erreur lors de la désapprobation du cours:', error);
      toast.error('Une erreur est survenue lors de la désapprobation du cours');
    }
  };

  /**
   * Vérifie si une justification est valide (au moins 50 caractères).
   * 
   * @param {string} justification - Texte de justification
   * @returns {boolean} Vrai si la justification est valide
   */
  const isValidJustification = (justification) => {
    if (!justification.trim() || justification.length &lt; 50) {
      toast.error('Veuillez fournir une justification d\'au moins 50 caractères.');
      return false;
    }
    return true;
  };


  /**
   * Désapprouve un live avec justification.
   * 
   * @async
   * @throws {Error} Lance une erreur si la désapprobation échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleLiveDisapproval = async () => {
    if (!isValidJustification(justification)) return;
    try {
      const response = await disapproveLive({
        liveId: item.id,
        justification,
      });
      if (response.status === 200) {
        toast.success('Live désapprouvé avec succès');
        console.log('Désapprobation réussie:', response.data);
        setShowDisapproveModal(false);
        setJustification('');
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors de la désapprobation du live');
      }
    } catch (error) {
      console.error('Erreur lors de la désapprobation du live:', error);
      toast.error('Une erreur est survenue lors de la désapprobation du live');
    }
  };

  /**
   * Arrête un live en cours avec justification et le bloque.
   * 
   * @async
   * @throws {Error} Lance une erreur si l'arrêt ou le blocage échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleStopLive = async () => {
    if (!isValidJustification(justification)) return;

    try {
      const response = await endLive({
        liveId: item.id,
        justification,
      });

      const blockResponse = await blockLive({ liveId: item.id, justification });
      if (blockResponse.status !== 200) {
        throw new Error(blockResponse.message || 'Erreur lors du blocage du live');
      }

      if (response.status === 200) {
        toast.success('Live arrêté avec succès');
        console.log('Arrêt réussi:', response.data);
        setShowStopModal(false);
        setJustification('');
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors de l\'arrêt du live');
      }
    } catch (error) {
      console.error('Erreur lors de l\'arrêt du live:', error);
      toast.error('Une erreur est survenue lors de l\'arrêt du live');
    }
  };

  /**
   * Débloque un cours précédemment bloqué.
   * 
   * @async
   * @throws {Error} Lance une erreur si le déblocage échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleUnblockCourse = async () => {
    if (!window.confirm('Êtes-vous sûr de vouloir débloquer ce cours ?')) {
      return;
    }
    try {
      const response = await unblockCourse(item.id);
      if (response.status === 200) {
        toast.success('Cours débloqué avec succès');
        console.log('Déblocage réussi:', response.data);
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors du déblocage du cours');
      }
    } catch (error) {
      console.error('Erreur lors du déblocage du cours:', error);
      toast.error(
        error?.response?.data?.message ||
        error.message ||
        'Une erreur est survenue lors du déblocage du cours'
      );
    }
  };

  /**
   * Supprime définitivement un cours.
   * 
   * @async
   * @throws {Error} Lance une erreur si la suppression échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleDeleteCourse = async () => {
    if (!window.confirm('Êtes-vous sûr de vouloir supprimer ce cours ?')) {
      return;
    }
    try {
      const response = await deleteCourse(item.id);
      if (response.status === 200) {
        toast.success('Cours supprimé avec succès');
        console.log('Suppression réussie:', response.data);
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors de la suppression du cours');
      }
    } catch (error) {
      console.error('Erreur lors de la suppression du cours:', error);
      toast.error(
        error?.response?.data?.message ||
        error.message ||
        'Une erreur est survenue lors de la suppression du cours'
      );
    }
  };


  /**
   * Débloque un live précédemment bloqué.
   * 
   * @async
   * @throws {Error} Lance une erreur si le déblocage échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleUnblockLive = async () => {
    if (!window.confirm('Êtes-vous sûr de vouloir débloquer ce live ?')) {
      return;
    }
    try {
      const response = await unblockLive(item.id);
      if (response.status === 200) {
        toast.success('Live débloqué avec succès');
        console.log('Déblocage réussi:', response.data);
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors du déblocage du cours');
      }
    } catch (error) {
      console.error('Erreur lors du déblocage du live:', error);
      toast.error(
        error?.response?.data?.message ||
        error.message ||
        'Une erreur est survenue lors du déblocage du cours'
      );
    }
  };

  /**
   * Supprime définitivement un live.
   * 
   * @async
   * @throws {Error} Lance une erreur si la suppression échoue
   * @returns {Promise&lt;void>} Ne retourne rien
   */
  const handleDeleteLive = async () => {
    if (!window.confirm('Êtes-vous sûr de vouloir supprimer ce live ?')) {
      return;
    }
    try {
      const response = await deleteLive(item.id);
      if (response.status === 200) {
        toast.success('Live supprimé avec succès');
        console.log('Suppression réussie:', response.data);
        onActionDone();
      } else {
        throw new Error(response.message || 'Erreur lors de la suppression du live');
      }
    } catch (error) {
      console.error('Erreur lors de la suppression du live:', error);
      toast.error(
        error?.response?.data?.message ||
        error.message ||
        'Une erreur est survenue lors de la suppression du live'
      );
    }
  };

  /**
   * Génère la modale de désapprobation d'un cours ou live.
   * 
   * @param {Object} item - Élément à désapprouver
   * @returns {JSX.Element} Modale de désapprobation rendue
   */
  const disapproveCourseModal = (item) => {

    return (
      &lt;div
        className="fixed inset-0 flex items-center justify-center bg-gray-800/50 backdrop-blur-sm z-100"
        onClick={e => {
          e.stopPropagation();
          e.preventDefault();
        }}
      >
        &lt;div
          className="bg-white p-6 rounded-lg shadow-lg"
          onClick={e => e.stopPropagation()}
        >
          &lt;h2 className="text-xl font-semibold mb-4">Désapprouver le {item.type}&lt;/h2>
          &lt;p>Êtes-vous sûr de vouloir désapprouver le {item.type} &amp;quot;{item.titre}&amp;quot; ?&lt;/p>
          &lt;p className="mt-2 text-sm text-gray-500">
            Celui-ci sera retiré de la bibliothèque et ne sera plus accessible aux utilisateurs.
          &lt;/p>
          &lt;textarea
            className="w-full mt-4 p-2 border rounded"
            placeholder="Justification (obligatoire)"
            value={justification}
            onChange={e => setJustification(e.target.value)}
            maxLength={255}
            cols="30"
            rows="4"
            required
          />
          &lt;div className="mt-4 flex justify-end">
            &lt;button
              className="bg-red-600 text-white px-4 py-2 rounded mr-2"
              onClick={item.type === 'cours' ? handleCourseDisapproval : handleLiveDisapproval}
              disabled={!justification.trim()}
            >
              Désapprouver
            &lt;/button>
            &lt;button
              className="bg-gray-300 text-gray-800 px-4 py-2 rounded"
              onClick={() => setShowDisapproveModal(false)}
            >
              Annuler
            &lt;/button>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    );
  };

  /**
   * Génère la modale d'arrêt d'un live.
   * 
   * @param {Object} params - Paramètres de la modale
   * @param {Object} params.live - Données du live à arrêter
   * @returns {JSX.Element} Modale d'arrêt de live rendue
   */
  const stopLiveModal = ({ live }) => {

    return (
      &lt;div
        className="fixed inset-0 flex items-center justify-center bg-gray-800/50 backdrop-blur-sm z-100"
        onClick={e => {
          e.stopPropagation();
          e.preventDefault();
        }}
      >
        &lt;div
          className="bg-white p-6 rounded-lg shadow-lg"
          onClick={e => e.stopPropagation()}
        >
          &lt;h2 className="text-xl font-semibold mb-4">Arrêter le live&lt;/h2>
          &lt;p>Êtes-vous sûr de vouloir arrêter le live &amp;quot;{live.titre}&amp;quot; ?&lt;/p>
          &lt;p className="mt-2 text-sm text-gray-500">
            Celui-ci sera retiré de la bibliothèque, sera arrêté et ne sera plus accessible aux utilisateurs.
          &lt;/p>
          &lt;textarea
            className="w-full mt-4 p-2 border rounded"
            placeholder="Justification (obligatoire)"
            value={justification}
            onChange={e => setJustification(e.target.value)}
            maxLength={255}
            cols="30"
            rows="4"
            required
          />
          &lt;div className="mt-4 flex justify-end">
            &lt;button
              className="bg-red-600 text-white px-4 py-2 rounded mr-2"
              onClick={handleStopLive}
              disabled={!justification.trim()}
            >
              Arrêter
            &lt;/button>
            &lt;button
              className="bg-gray-300 text-gray-800 px-4 py-2 rounded"
              onClick={() => setShowStopModal(false)}
            >
              Annuler
            &lt;/button>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    );
  };

  return (
    &lt;div
      className={`bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 relative 
      ${(userRole !== 'Etudiant' &amp;&amp; (item.status === 'blocked' || item.live?.statut === 'blocked' || item.live?.statut === 'disapproved') &amp;&amp; 'border-2 border-red-500')}
      ${userRole !== 'Etudiant' &amp;&amp; (item.status === 'blocked' || item.live?.statut === 'blocked' || item.live?.statut === 'disapproved') &amp;&amp; showBlockedTooltip &amp;&amp; !modButtonHovered ? 'cursor-not-allowed' : 'cursor-pointer'}`}
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
      onMouseMove={
        userRole === 'Administrateur' &amp;&amp; (item.status === 'blocked' || item.live?.statut === 'blocked' || item.live?.statut === 'disapproved')
          ? handleBlockedMouseMove
          : undefined
      }
      onMouseOut={
        userRole === 'Administrateur' &amp;&amp; (item.status === 'blocked' || item.live?.statut === 'blocked' || item.live?.statut === 'disapproved')
          ? handleBlockedMouseLeave
          : undefined
      }
      onClick={handleClick}
    >
      {/* Tooltip flottant pour cours bloqué */}
      {userRole === 'Administrateur' &amp;&amp; (item.status === 'blocked' || item.live?.statut === 'blocked' || item.live?.statut === 'disapproved') &amp;&amp; showBlockedTooltip &amp;&amp; !modButtonHovered &amp;&amp; (
        &lt;div
          className="pointer-events-none fixed z-50"
          style={{
            left: tooltipPos.x + 16,
            top: tooltipPos.y + 16,
            maxWidth: 320,
            background: 'rgba(255,255,255,0.98)',
            border: '1px solid #ef4444',
            borderRadius: '0.75rem',
            boxShadow: '0 4px 24px 0 rgba(0,0,0,0.10)',
            padding: '1rem',
            color: '#991b1b',
            fontSize: '0.95rem',
            whiteSpace: 'pre-line',
            lineHeight: 1.5,
          }}
        >
          &lt;div className="font-bold mb-1 text-red-700">Statut : Bloqué&lt;/div>
          &lt;div className="text-gray-700 whitespace-pre-line break-words">
            &lt;span className="font-semibold text-red-600">Motif :&lt;/span>
            &lt;br />
            {item.block_reason || item.live.block_reason || 'Aucun motif fourni.'}
          &lt;/div>
        &lt;/div>
      )}
      {showDisapproveModal &amp;&amp; disapproveCourseModal(item)}
      {showStopModal &amp;&amp; stopLiveModal({ live: item })}
      {/* Bouton de modération pour les administrateurs */}
      {userRole === 'Administrateur' &amp;&amp; (
        &lt;div
          className="absolute top-2 right-2 z-10"
          onClick={e => e.stopPropagation()}
          onMouseEnter={() => setModButtonHovered(true)}
          onMouseLeave={() => setModButtonHovered(false)}
        >
          &lt;button
            className="p-1 bg-white bg-opacity-80 rounded-full hover:bg-opacity-100 hover:shadow-lg transition-colors"
            onClick={handleMenuToggle}
          >
            &lt;ShieldEllipsis className="h-7 w-7 text-gray-600" />
          &lt;/button>
          {showModMenu &amp;&amp; (
            &lt;div
              ref={menuRef}
              className="absolute right-0 mt-1 w-40 bg-white shadow-lg rounded-md py-1 z-20"
              onMouseEnter={() => setModButtonHovered(true)}
              onMouseLeave={() => setModButtonHovered(false)}
            >
              {(item.live?.statut === 'scheduled' || item.type == 'cours') &amp;&amp; item.status === 'blocked' ? (
                &lt;button
                  className="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  onClick={e => handleModAction('unblock', e)}
                >
                  Débloquer
                &lt;/button>
              ) : (item.live?.statut === 'scheduled' || item.type == 'cours') &amp;&amp; (
                &lt;button
                  className="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  onClick={e => handleModAction('disapprove', e)}
                >
                  Désapprouver
                &lt;/button>
              )}
              {item.live?.statut === 'ongoing' ? (
                &lt;button
                  className="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  onClick={e => handleModAction('stop', e)}
                >
                  Arrêter le live
                &lt;/button>
              ) : item.live?.statut === 'blocked' || item.live?.statut === 'disapproved' &amp;&amp; (
                &lt;button
                  className="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  onClick={e => handleModAction('unblock', e)}
                >
                  Autoriser la reprise du live
                &lt;/button>
              )}
              &lt;button
                className="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
                onClick={e => handleModAction('delete', e)}
              >
                Supprimer
              &lt;/button>
            &lt;/div>
          )}
        &lt;/div>
      )}

      {/* Bouton d'édition pour les professeurs */}
      {userRole === 'Professeur' &amp;&amp; (
        &lt;div
          className="absolute top-2 right-2 z-10"
          onClick={e => e.stopPropagation()}
          onMouseEnter={() => setModButtonHovered(true)}
          onMouseLeave={() => setModButtonHovered(false)}
        >
          &lt;button
            className="p-1 bg-white bg-opacity-80 rounded-full hover:bg-opacity-100 hover:shadow-lg transition-colors"
            onClick={handleMenuToggle}
          >
            &lt;ShieldEllipsis className="h-7 w-7 text-gray-600" />
          &lt;/button>
          {showModMenu &amp;&amp; (
            &lt;div
              ref={menuRef}
              className="absolute right-0 mt-1 w-40 bg-white shadow-lg rounded-md py-1 z-20"
              onMouseEnter={() => setModButtonHovered(true)}
              onMouseLeave={() => setModButtonHovered(false)}
            >
              &lt;button
                className="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                onClick={e => handleModAction('edit', e)}
              >
                Modifier
              &lt;/button>
              &lt;button
                className="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
                onClick={e => handleModAction('delete', e)}
              >
                Supprimer
              &lt;/button>
            &lt;/div>
          )}
        &lt;/div>
      )}
      &lt;div className="flex flex-col h-full">
        &lt;div className="aspect-video bg-gray-200 relative">
          {item.type === 'cours' &amp;&amp; item.video ? (
            !item.video.cover_image &amp;&amp; item.video.preview_image !== null ? (
              &lt;>
                {isHovered ? (
                  &lt;img
                    className="w-full h-full object-cover"
                    src={`data:image/webp;base64,${item.video.preview_image}`}
                    alt={item.titre}
                  />
                ) : (
                  &lt;img
                    className="w-full h-full object-cover"
                    src={`data:image/png;base64,${item.video.cover_image}`}
                    alt={item.titre}
                  />
                )}
              &lt;/>
            ) : item.video &amp;&amp; item.video.cover_image ? (
              &lt;img
                className="w-full h-full object-cover"
                src={`data:image/png;base64,${item.video.cover_image}`}
                alt={item.titre}
              />
            ) : (
              &lt;div className="w-full h-full bg-blue-50 flex flex-col items-center justify-center">
                &lt;SquarePlay className="w-8 h-8 text-green-600 mb-2" />
                &lt;p className="text-sm text-gray-600">Cours Video&lt;/p>
              &lt;/div>
            )
          ) : item.type === 'cours' &amp;&amp; item.nombre_de_documents > 0 ? (
            &lt;div className="w-full h-full bg-blue-50 flex flex-col items-center justify-center">
              &lt;FileText className="w-8 h-8 text-green-600 mb-2" />
              &lt;p className="text-sm text-gray-600">Documents disponibles&lt;/p>
              &lt;span className="text-xs text-gray-500">
                {item.nombre_de_documents} document(s)
              &lt;/span>
            &lt;/div>
          ) : item.live?.statut === 'scheduled' ? (
            &lt;div className="w-full h-full bg-blue-50 flex items-center justify-center">
              &lt;div className="text-center">
                &lt;Radio className="w-8 h-8 text-blue-600 mx-auto mb-2" />
                &lt;p className="text-sm text-blue-600 font-medium">
                  Live programmé
                &lt;/p>
                &lt;p className="text-xs text-gray-500 mt-1">
                  {item.live &amp;&amp; item.live.date_debut ? (
                    new Date(item.live.date_debut).toLocaleDateString('fr-FR', {
                      day: 'numeric',
                      month: 'long',
                      hour: '2-digit',
                      minute: '2-digit',
                    })
                  ) : (
                    &lt;span className="text-gray-500">Date non disponible&lt;/span>
                  )}
                &lt;/p>
              &lt;/div>
            &lt;/div>
          ) : item.live?.statut === 'ongoing' ? (
            &lt;div className="w-full h-full bg-blue-50 flex items-center justify-center">
              &lt;div className="text-center">
                &lt;Radio className="w-11 h-11 text-red-600 mx-auto mb-2" />
                &lt;p className="text-sm text-red-600 font-medium">
                  Live en cours
                &lt;/p>
              &lt;/div>
            &lt;/div>
          ) : item.live?.statut === 'blocked' ? (&lt;div className="w-full h-full bg-blue-50 flex items-center justify-center">
            &lt;div className="text-center">
              &lt;ShieldBan className="w-11 h-11 text-red-600 mx-auto mb-2" />
              &lt;p className="text-sm text-red-600 font-medium">
                &lt;strong>Live bloqué&lt;/strong>
              &lt;/p>
            &lt;/div>
          &lt;/div>) : item.live?.statut === 'disapproved' ? (&lt;div className="w-full h-full bg-blue-50 flex items-center justify-center">
            &lt;div className="text-center">
              &lt;ShieldBan className="w-11 h-11 text-red-600 mx-auto mb-2" />
              &lt;p className="text-sm text-red-600 font-medium">
                &lt;strong>Live programmé refusé&lt;/strong>
              &lt;/p>
            &lt;/div>
          &lt;/div>) : (
            &lt;div className="w-full h-full bg-gray-200 flex items-center justify-center">
              &lt;p className="text-gray-500">Aucune image disponible&lt;/p>
            &lt;/div>
          )}
        &lt;/div>

        &lt;div className="p-4 relative h-full flex flex-col justify-between">
          {/* Header section with title and indicators */}
          &lt;div>
            &lt;h2 className="text-lg font-semibold text-gray-800 mb-1">
              {item.titre}
            &lt;/h2>

            &lt;div className="flex flex-wrap gap-2 items-center mt-2">
              {/* Video duration indicator */}
              {item.type === 'cours' &amp;&amp; item.video &amp;&amp; (
                &lt;div className="flex items-center text-xs text-gray-500">
                  &lt;SquarePlay className="w-4 h-4 mr-1" />
                  &lt;span>
                    {item.video.duration !== null
                      ? formatDuration(parseInt(item.video.duration, 10))
                      : 'N/A'}
                  &lt;/span>
                &lt;/div>
              )}

              {/* Documents count indicator */}
              {item.type === 'cours' &amp;&amp; item.nombre_de_documents > 0 &amp;&amp; (
                &lt;div className="flex items-center text-xs text-gray-500">
                  &lt;FileText className="w-4 h-4 mr-1" />
                  &lt;span>{item.nombre_de_documents} document(s)&lt;/span>
                &lt;/div>
              )}

              {/* Live status badges */}
              {item.live?.statut === 'scheduled' &amp;&amp; (
                &lt;div className="bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs whitespace-nowrap ml-auto">
                  En direct à{' '}
                  {new Date(item.live.date_debut).toLocaleTimeString('fr-FR', {
                    hour: '2-digit',
                    minute: '2-digit',
                  })}
                &lt;/div>
              )}
              {item.live?.statut === 'ongoing' &amp;&amp; (
                &lt;div className="bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs whitespace-nowrap">
                  En direct
                &lt;/div>
              )}
            &lt;/div>
          &lt;/div>

          {/* Description */}
          &lt;p className="text-sm text-gray-600 line-clamp-2 my-3">
            {item.description}
          &lt;/p>

          {/* Footer with professor and date */}
          &lt;div className="flex items-center justify-between text-sm text-gray-500 mt-auto pt-3 border-t border-gray-100">
            &lt;span className="font-medium truncate max-w-[60%]">{item.professor}&lt;/span>
            &lt;span className="italic">
              {item.type === 'cours'
                ? item.date_creation &amp;&amp;
                new Date(item.date_creation).toLocaleDateString('fr-FR')
                : item.live &amp;&amp;
                new Date(item.live.date_debut).toLocaleDateString('fr-FR')}
            &lt;/span>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    &lt;/div>
  );
};


ContentCard.propTypes = {
  item: PropTypes.shape({
    id: PropTypes.string.isRequired,
    titre: PropTypes.string.isRequired,
    date_creation: PropTypes.string.isRequired,
    status: PropTypes.string,
    block_reason: PropTypes.string,
    type: PropTypes.oneOf(['cours', 'live']).isRequired,
    live: PropTypes.shape({
      date_debut: PropTypes.string,
      statut: PropTypes.string,
      block_reason: PropTypes.string,
    }),
    description: PropTypes.string,
    video: PropTypes.shape({
      id: PropTypes.string,
      duration: PropTypes.string,
      cover_image: PropTypes.string,
      preview_image: PropTypes.string,
      fingerprint: PropTypes.string,
    }),
    nombre_de_documents: PropTypes.number,
    professor: PropTypes.string.isRequired,
    subject: PropTypes.string,
  }).isRequired,
  userRole: PropTypes.string,
  onActionDone: PropTypes.func,
};


/**
 * Composant de liste déroulante pour les filtres.
 * 
 * @param {Object} props - Les propriétés du composant
 * @param {string[]} props.items - Liste des options disponibles
 * @param {string} props.selected - Option actuellement sélectionnée
 * @param {Function} props.setSelected - Fonction pour mettre à jour l'option sélectionnée
 * @returns {JSX.Element} Liste déroulante rendue
 */
const FilterDropdown = ({ items, selected, setSelected }) => (
  &lt;select
    className="p-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"
    value={selected}
    onChange={e => setSelected(e.target.value)}
  >
    {items.map(item => (
      &lt;option key={item} value={item}>
        {item}
      &lt;/option>
    ))}
  &lt;/select>
);

FilterDropdown.propTypes = {
  items: PropTypes.arrayOf(PropTypes.string).isRequired,
  selected: PropTypes.string.isRequired,
  setSelected: PropTypes.func.isRequired,
};

Courses.propTypes = {
  authToken: PropTypes.string.isRequired,
  userRole: PropTypes.string,
};

export default Courses;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a></li></ul><h3>Global</h3><ul><li><a href="global.html#About">About</a></li><li><a href="global.html#AccountDisabledModal">AccountDisabledModal</a></li><li><a href="global.html#AdminDashboardHome">AdminDashboardHome</a></li><li><a href="global.html#BASE_URL">BASE_URL</a></li><li><a href="global.html#BulkActions">BulkActions</a></li><li><a href="global.html#ClassManagementTutorial">ClassManagementTutorial</a></li><li><a href="global.html#ClasseCards">ClasseCards</a></li><li><a href="global.html#ClasseCreationModal">ClasseCreationModal</a></li><li><a href="global.html#ClasseManagement">ClasseManagement</a></li><li><a href="global.html#ClasseTable">ClasseTable</a></li><li><a href="global.html#Contact">Contact</a></li><li><a href="global.html#ContentCard">ContentCard</a></li><li><a href="global.html#CourseReader">CourseReader</a></li><li><a href="global.html#CourseReaderTutorial">CourseReaderTutorial</a></li><li><a href="global.html#Courses">Courses</a></li><li><a href="global.html#CoursesLibraryTutorial">CoursesLibraryTutorial</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#DashboardTutorial">DashboardTutorial</a></li><li><a href="global.html#DeleteDocument">DeleteDocument</a></li><li><a href="global.html#DeleteVideo">DeleteVideo</a></li><li><a href="global.html#EleveDashboardHome">EleveDashboardHome</a></li><li><a href="global.html#ErrorMessage">ErrorMessage</a></li><li><a href="global.html#FilterDropdown">FilterDropdown</a></li><li><a href="global.html#FirstLogin">FirstLogin</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#Forum">Forum</a></li><li><a href="global.html#GetAll_DataStructure">GetAll_DataStructure</a></li><li><a href="global.html#GetAll_Document">GetAll_Document</a></li><li><a href="global.html#Get_Document_Information">Get_Document_Information</a></li><li><a href="global.html#Get_Video_Information">Get_Video_Information</a></li><li><a href="global.html#Get_special_Document">Get_special_Document</a></li><li><a href="global.html#Get_special_Video">Get_special_Video</a></li><li><a href="global.html#Home">Home</a></li><li><a href="global.html#INACTIVITY_THRESHOLD">INACTIVITY_THRESHOLD</a></li><li><a href="global.html#LegalNotice">LegalNotice</a></li><li><a href="global.html#LiveNotFound">LiveNotFound</a></li><li><a href="global.html#LiveViewer">LiveViewer</a></li><li><a href="global.html#LoadCanvasTemplate">LoadCanvasTemplate</a></li><li><a href="global.html#LoadingComponent">LoadingComponent</a></li><li><a href="global.html#LoadingSpinner">LoadingSpinner</a></li><li><a href="global.html#Logout">Logout</a></li><li><a href="global.html#Mailbox">Mailbox</a></li><li><a href="global.html#MaintenanceBanner">MaintenanceBanner</a></li><li><a href="global.html#MessageDetailSkeleton">MessageDetailSkeleton</a></li><li><a href="global.html#MessageSkeleton">MessageSkeleton</a></li><li><a href="global.html#NavigationBar">NavigationBar</a></li><li><a href="global.html#PictureModal">PictureModal</a></li><li><a href="global.html#PrivacyPolicy">PrivacyPolicy</a></li><li><a href="global.html#PrivacyTab">PrivacyTab</a></li><li><a href="global.html#ProfilePhotoSelector">ProfilePhotoSelector</a></li><li><a href="global.html#PublicNavbar">PublicNavbar</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#SearchUser">SearchUser</a></li><li><a href="global.html#SecureDocumentViewer">SecureDocumentViewer</a></li><li><a href="global.html#SecureVideoPlayer">SecureVideoPlayer</a></li><li><a href="global.html#SecurityTab">SecurityTab</a></li><li><a href="global.html#SendDocument">SendDocument</a></li><li><a href="global.html#SendVideo">SendVideo</a></li><li><a href="global.html#Settings">Settings</a></li><li><a href="global.html#Sign">Sign</a></li><li><a href="global.html#Spinner">Spinner</a></li><li><a href="global.html#StreamReader">StreamReader</a></li><li><a href="global.html#TEN_MINUTES">TEN_MINUTES</a></li><li><a href="global.html#TermsOfUse">TermsOfUse</a></li><li><a href="global.html#ToggleView">ToggleView</a></li><li><a href="global.html#Tutorial">Tutorial</a></li><li><a href="global.html#TutorialContext">TutorialContext</a></li><li><a href="global.html#TutorialProvider">TutorialProvider</a></li><li><a href="global.html#TwoFASetupModal">TwoFASetupModal</a></li><li><a href="global.html#UpdateDocument">UpdateDocument</a></li><li><a href="global.html#UserManagementTutorial">UserManagementTutorial</a></li><li><a href="global.html#WSS_BASE_URL">WSS_BASE_URL</a></li><li><a href="global.html#activateUser">activateUser</a></li><li><a href="global.html#addComment">addComment</a></li><li><a href="global.html#addStudentToClass">addStudentToClass</a></li><li><a href="global.html#allDigitsFilled">allDigitsFilled</a></li><li><a href="global.html#api">api</a></li><li><a href="global.html#authToken">authToken</a></li><li><a href="global.html#authenticatedButtons">authenticatedButtons</a></li><li><a href="global.html#baseURL">baseURL</a></li><li><a href="global.html#blockLive">blockLive</a></li><li><a href="global.html#bulkDelete">bulkDelete</a></li><li><a href="global.html#changePassword">changePassword</a></li><li><a href="global.html#check2FAStatus">check2FAStatus</a></li><li><a href="global.html#checkRegisterCode">checkRegisterCode</a></li><li><a href="global.html#createClass">createClass</a></li><li><a href="global.html#createCourse">createCourse</a></li><li><a href="global.html#createLive">createLive</a></li><li><a href="global.html#createThread">createThread</a></li><li><a href="global.html#createUser">createUser</a></li><li><a href="global.html#deactivateUser">deactivateUser</a></li><li><a href="global.html#deleteAvatar">deleteAvatar</a></li><li><a href="global.html#deleteClass">deleteClass</a></li><li><a href="global.html#deleteClasseHandler">deleteClasseHandler</a></li><li><a href="global.html#deleteComment">deleteComment</a></li><li><a href="global.html#deleteContactMessage">deleteContactMessage</a></li><li><a href="global.html#deleteCourse">deleteCourse</a></li><li><a href="global.html#deleteInviteCode">deleteInviteCode</a></li><li><a href="global.html#deleteLive">deleteLive</a></li><li><a href="global.html#deleteMessage">deleteMessage</a></li><li><a href="global.html#deleteThread">deleteThread</a></li><li><a href="global.html#deleteUser">deleteUser</a></li><li><a href="global.html#disable2FA">disable2FA</a></li><li><a href="global.html#disapproveCourse">disapproveCourse</a></li><li><a href="global.html#disapproveLive">disapproveLive</a></li><li><a href="global.html#downloadAttachment">downloadAttachment</a></li><li><a href="global.html#endLive">endLive</a></li><li><a href="global.html#errorMessages">errorMessages</a></li><li><a href="global.html#fetchClasses">fetchClasses</a></li><li><a href="global.html#fetchCourseData">fetchCourseData</a></li><li><a href="global.html#fetchData">fetchData</a></li><li><a href="global.html#fetchUsers">fetchUsers</a></li><li><a href="global.html#firstLogin">firstLogin</a></li><li><a href="global.html#flagContent">flagContent</a></li><li><a href="global.html#forgotPassword">forgotPassword</a></li><li><a href="global.html#generateInviteCode">generateInviteCode</a></li><li><a href="global.html#getAllClasses">getAllClasses</a></li><li><a href="global.html#getAllContactMessages">getAllContactMessages</a></li><li><a href="global.html#getAllCourses">getAllCourses</a></li><li><a href="global.html#getAllInviteCodes">getAllInviteCodes</a></li><li><a href="global.html#getAllLives">getAllLives</a></li><li><a href="global.html#getAllUsers">getAllUsers</a></li><li><a href="global.html#getAvailableRecipients">getAvailableRecipients</a></li><li><a href="global.html#getAvatar">getAvatar</a></li><li><a href="global.html#getClassById">getClassById</a></li><li><a href="global.html#getClassStudents">getClassStudents</a></li><li><a href="global.html#getContactMessage">getContactMessage</a></li><li><a href="global.html#getCourseById">getCourseById</a></li><li><a href="global.html#getCourseDetails">getCourseDetails</a></li><li><a href="global.html#getCourseProgress">getCourseProgress</a></li><li><a href="global.html#getCoursesByClass">getCoursesByClass</a></li><li><a href="global.html#getFlags">getFlags</a></li><li><a href="global.html#getInboxMessages">getInboxMessages</a></li><li><a href="global.html#getInitialViewMode">getInitialViewMode</a></li><li><a href="global.html#getLiveById">getLiveById</a></li><li><a href="global.html#getLiveMessages">getLiveMessages</a></li><li><a href="global.html#getLiveStreamUrl">getLiveStreamUrl</a></li><li><a href="global.html#getLivesByClass">getLivesByClass</a></li><li><a href="global.html#getMessage">getMessage</a></li><li><a href="global.html#getNotificationPreferences">getNotificationPreferences</a></li><li><a href="global.html#getSentMessages">getSentMessages</a></li><li><a href="global.html#getStudentProgress">getStudentProgress</a></li><li><a href="global.html#getThreadById">getThreadById</a></li><li><a href="global.html#getThreads">getThreads</a></li><li><a href="global.html#getTrashMessages">getTrashMessages</a></li><li><a href="global.html#getUserById">getUserById</a></li><li><a href="global.html#getUserProfile">getUserProfile</a></li><li><a href="global.html#getUserWarnings">getUserWarnings</a></li><li><a href="global.html#getVideoDetails">getVideoDetails</a></li><li><a href="global.html#getVideoStreamUrl">getVideoStreamUrl</a></li><li><a href="global.html#handle2FASubmit">handle2FASubmit</a></li><li><a href="global.html#handleBackdropClick">handleBackdropClick</a></li><li><a href="global.html#handleBlockedMouseLeave">handleBlockedMouseLeave</a></li><li><a href="global.html#handleBlockedMouseMove">handleBlockedMouseMove</a></li><li><a href="global.html#handleClose">handleClose</a></li><li><a href="global.html#handleCompleteCourse">handleCompleteCourse</a></li><li><a href="global.html#handleCourseDisapproval">handleCourseDisapproval</a></li><li><a href="global.html#handleDeleteCourse">handleDeleteCourse</a></li><li><a href="global.html#handleDigitChange">handleDigitChange</a></li><li><a href="global.html#handleDigitKeyDown">handleDigitKeyDown</a></li><li><a href="global.html#handleDigitPaste">handleDigitPaste</a></li><li><a href="global.html#handleDownloadDocument">handleDownloadDocument</a></li><li><a href="global.html#handleError">handleError</a></li><li><a href="global.html#handleInputChange">handleInputChange</a></li><li><a href="global.html#handleLogout">handleLogout</a></li><li><a href="global.html#handleMenuToggle">handleMenuToggle</a></li><li><a href="global.html#handleModAction">handleModAction</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li><li><a href="global.html#handleSubmitClasse">handleSubmitClasse</a></li><li><a href="global.html#handleTabChange">handleTabChange</a></li><li><a href="global.html#handleUnblockCourse">handleUnblockCourse</a></li><li><a href="global.html#isAuthenticated">isAuthenticated</a></li><li><a href="global.html#loadCaptchaEngine">loadCaptchaEngine</a></li><li><a href="global.html#logViewEngagement">logViewEngagement</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#markAsRead">markAsRead</a></li><li><a href="global.html#markAsUnread">markAsUnread</a></li><li><a href="global.html#markContactMessageAsProcessed">markContactMessageAsProcessed</a></li><li><a href="global.html#markCourseAsCompleted">markCourseAsCompleted</a></li><li><a href="global.html#markCourseAsInProgress">markCourseAsInProgress</a></li><li><a href="global.html#mountApp">mountApp</a></li><li><a href="global.html#moveToTrash">moveToTrash</a></li><li><a href="global.html#navItems">navItems</a></li><li><a href="global.html#navigate">navigate</a></li><li><a href="global.html#onSamplesDecoded">onSamplesDecoded</a></li><li><a href="global.html#refreshTwoFASetup">refreshTwoFASetup</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#removeStudentFromClass">removeStudentFromClass</a></li><li><a href="global.html#renderContent">renderContent</a></li><li><a href="global.html#resolveFlag">resolveFlag</a></li><li><a href="global.html#restoreFromTrash">restoreFromTrash</a></li><li><a href="global.html#retrogradeUserRole">retrogradeUserRole</a></li><li><a href="global.html#root">root</a></li><li><a href="global.html#sendContactMessage">sendContactMessage</a></li><li><a href="global.html#sendLiveMessage">sendLiveMessage</a></li><li><a href="global.html#sendMessage">sendMessage</a></li><li><a href="global.html#sendWarning">sendWarning</a></li><li><a href="global.html#setMainTeacher">setMainTeacher</a></li><li><a href="global.html#setup2FA">setup2FA</a></li><li><a href="global.html#signButtons">signButtons</a></li><li><a href="global.html#startLive">startLive</a></li><li><a href="global.html#toggleAll">toggleAll</a></li><li><a href="global.html#toggleClasse">toggleClasse</a></li><li><a href="global.html#toggleMember">toggleMember</a></li><li><a href="global.html#toggleMobileMenu">toggleMobileMenu</a></li><li><a href="global.html#unblockCourse">unblockCourse</a></li><li><a href="global.html#unblockLive">unblockLive</a></li><li><a href="global.html#updateClass">updateClass</a></li><li><a href="global.html#updateComment">updateComment</a></li><li><a href="global.html#updateCourse">updateCourse</a></li><li><a href="global.html#updateLive">updateLive</a></li><li><a href="global.html#updateNotificationPreferences">updateNotificationPreferences</a></li><li><a href="global.html#updateThread">updateThread</a></li><li><a href="global.html#updateUser">updateUser</a></li><li><a href="global.html#updateUserProfile">updateUserProfile</a></li><li><a href="global.html#updateUserProfileHandler">updateUserProfileHandler</a></li><li><a href="global.html#updateVideo">updateVideo</a></li><li><a href="global.html#upgradeUserRole">upgradeUserRole</a></li><li><a href="global.html#uploadAvatar">uploadAvatar</a></li><li><a href="global.html#uploadIllustrationAvatar">uploadIllustrationAvatar</a></li><li><a href="global.html#useEffect">useEffect</a></li><li><a href="global.html#useTutorial">useTutorial</a></li><li><a href="global.html#validateForm">validateForm</a></li><li><a href="global.html#validatePassword">validatePassword</a></li><li><a href="global.html#verify2FASetup">verify2FASetup</a></li><li><a href="global.html#verifyTwoFA">verifyTwoFA</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat Jun 07 2025 14:32:34 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
